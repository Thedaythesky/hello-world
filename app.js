async function uploadImage() {
    const fileInput = document.getElementById('imageInput');
    const preview = document.getElementById('preview');
    const resultDiv = document.getElementById('result');
    const file = fileInput.files[0];

    if (!file) {
        alert('请先选择图片！');
        return;
    }

    try {
        // 1. 显示预览图
        const reader = new FileReader();
        reader.onload = (e) => preview.src = e.target.result;
        reader.readAsDataURL(file);

        // 2. 创建FormData并添加文件
        const formData = new FormData();
        formData.append('image', file);  // 字段名需与API要求一致

        // 3. 调用API
        const apiUrl = 'https://infer-modelarts-cn-north-4.modelarts-infer.com/v1/infers/873628b5-8605-43f1-a18b-795dd46c95e1';
        const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
		'Content-Type': 'application/json',
                'X-Auth-Token': 'MIIPigYJKoZIhvcNAQcCoIIPezCCD3cCAQExDTALBglghkgBZQMEAgEwgg2cBgkqhkiG9w0BBwGggg2NBIINiXsidG9rZW4iOnsiZXhwaXJlc19hdCI6IjIwMjUtMDMtMDRUMDg6MjQ6NDAuNTk2MDAwWiIsIm1ldGhvZHMiOlsicGFzc3dvcmQiXSwiY2F0YWxvZyI6W10sInJvbGVzIjpbeyJuYW1lIjoicmVhZG9ubHkiLCJpZCI6IjAifSx7Im5hbWUiOiJzZHJzX2FkbSIsImlkIjoiMCJ9LHsibmFtZSI6InNlcnZlcl9hZG0iLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9jc2JzX3JlcF9hY2NlbGVyYXRpb24iLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9lY3NfZGlza0FjYyIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2Rzc19tb250aCIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX29ic19kZWVwX2FyY2hpdmUiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9hX2NuLXNvdXRoLTRjIiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfZGVjX21vbnRoX3VzZXIiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9jYnJfc2VsbG91dCIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2Vjc19vbGRfcmVvdXJjZSIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2V2c19Sb3lhbHR5IiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfcGFuZ3UiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF93ZWxpbmticmlkZ2VfZW5kcG9pbnRfYnV5IiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfY2JyX2ZpbGUiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9kbXMtcm9ja2V0bXE1LWJhc2ljIiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfZG1zLWthZmthMyIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX29ic19kZWNfbW9udGgiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF91bmlidXkiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9jc2JzX3Jlc3RvcmUiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9jYnJfdm13YXJlIiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfaWRtZV9tYm1fZm91bmRhdGlvbiIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2Vjc19jNmEiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9wY192ZW5kb3Jfc3VidXNlciIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX211bHRpX2JpbmQiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9zbW5fY2FsbG5vdGlmeSIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2FfYXAtc291dGhlYXN0LTNkIiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfY3Nic19wcm9ncmVzc2JhciIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2Nlc19yZXNvdXJjZWdyb3VwX3RhZyIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2Vjc19vZmZsaW5lX2FjNyIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2V2c19yZXR5cGUiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9rb29tYXAiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9sZWdhY3kiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9ldnNfZXNzZDIiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9kbXMtYW1xcC1iYXNpYyIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2V2c19wb29sX2NhIiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfYV9jbi1zb3V0aHdlc3QtMmIiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9od2NwaCIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2Vjc19vZmZsaW5lX2Rpc2tfNCIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2h3ZGV2IiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfc21uX3dlbGlua3JlZCIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2h2X3ZlbmRvciIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2FfY24tbm9ydGgtNGUiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9hX2NuLW5vcnRoLTRkIiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfZWNzX2hlY3NfeCIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2Nicl9maWxlc19iYWNrdXAiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9lY3NfYWM3IiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfZXBzIiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfY3Nic19yZXN0b3JlX2FsbCIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2FfY24tbm9ydGgtNGYiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9vcF9nYXRlZF9yb3VuZHRhYmxlIiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfZXZzX2V4dCIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX3Bmc19kZWVwX2FyY2hpdmUiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9hX2FwLXNvdXRoZWFzdC0xZSIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2FfcnUtbW9zY293LTFiIiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfYV9hcC1zb3V0aGVhc3QtMWQiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9hcHBzdGFnZSIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2FfYXAtc291dGhlYXN0LTFmIiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfc21uX2FwcGxpY2F0aW9uIiwiaWQiOiIwIn0seyJuYW1lIjoib3BfZ2F0ZWRfZXZzX2NvbGQiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9yZHNfY2EiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9lY3NfZ3B1X2c1ciIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX29wX2dhdGVkX21lc3NhZ2VvdmVyNWciLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9lY3NfcmkiLCJpZCI6IjAifSx7Im5hbWUiOiJvcF9nYXRlZF9hX3J1LW5vcnRod2VzdC0yYyIsImlkIjoiMCJ9LHsibmFtZSI6Im9wX2dhdGVkX2llZl9wbGF0aW51bSIsImlkIjoiMCJ9LHsibmFtZSI6IjIwNiwxMzMsMjIzLDE0NCwzNCwxMjIsMzgwLDIxOCw2NiwwLDE0LDE3MCwxMzgsODEsNDQ5LDcsMTU5LDQ2NCwyMDEsNTAsMzQzLDMyLDIyNyw1NiwxNiwyODMsMjYxLDU4LDc1LDEyMywxNzcsMjc1LDI1MSwxNDcsNDIxLDM4LDE1MCw1NCw3MywyMzQsMjMsODMsNiw0MDMsMjM3LDE5NSwyNTUsMzAxLDE1MywxMDQsMTU3LDExMyw5NiwzLDM2OSIsImlkIjoiOCJ9LHsibmFtZSI6Im9wX2ZpbmVfZ3JhaW5lZCIsImlkIjoiNyJ9XSwicHJvamVjdCI6eyJkb21haW4iOnsibmFtZSI6InR1dGVfaW5mb3JtYXRpb24iLCJpZCI6IjcwMDJiYzYwZDQ5YzQ4OWZhNGI4ODg0Y2NjMDdjNmE0In0sIm5hbWUiOiJjbi1ub3J0aC00IiwiaWQiOiIwNzBjYzhhMjhiODAxMGFhMmYxZGMwMDA4NzJlNzM3YiJ9LCJpc3N1ZWRfYXQiOiIyMDI1LTAzLTAzVDA4OjI0OjQwLjU5NjAwMFoiLCJ1c2VyIjp7ImRvbWFpbiI6eyJuYW1lIjoidHV0ZV9pbmZvcm1hdGlvbiIsImlkIjoiNzAwMmJjNjBkNDljNDg5ZmE0Yjg4ODRjY2MwN2M2YTQifSwibmFtZSI6ImIxOSIsInBhc3N3b3JkX2V4cGlyZXNfYXQiOiIiLCJpZCI6IjAyYzk0Nzk5Y2YzYjQ5ODU5MTRhN2FlMzE2NWE4N2FlIn19fTGCAcEwggG9AgEBMIGXMIGJMQswCQYDVQQGEwJDTjESMBAGA1UECAwJR3VhbmdEb25nMREwDwYDVQQHDAhTaGVuWmhlbjEuMCwGA1UECgwlSHVhd2VpIFNvZnR3YXJlIFRlY2hub2xvZ2llcyBDby4sIEx0ZDEOMAwGA1UECwwFQ2xvdWQxEzARBgNVBAMMCmNhLmlhbS5wa2kCCQDcsytdEGFqEDALBglghkgBZQMEAgEwDQYJKoZIhvcNAQEBBQAEggEAmdas0JDypWu2ZcJPfI5VLyAMiqfdUKyp-c7kigXBJEAZzM8EZbWh1E0nUB4MWOWHStIHr4ipI5GHgoJEJ5qElqfUDKcdwEJLU+2o3Zgu47MG6z3RZyMwUpUFcGQ3WLifWTnGmrRyIcTwcn4bIxBbAubDbPBPfr2Vnm7FSxIXIDVdJkTzPW53DacKdkW8wcp5iFsIhf7y9XSJxmweA5SDmsss6E3wci7VssGj8yKYoDfwCbkzKKzBTpgMqa3iSoUSFUyjCfeyMTU+2oEWfUJgbeN50b31VZTmQNifPzaEFZZsmPkTmf3vVi2WMwGN1FxDCSy4dwLzx+YaO4SNqgVYLA==' // 只保留必要头部
		
            },
            body: formData  // 自动设置Content-Type为multipart/form-data
        });

        // 4. 处理响应
        if (!response.ok) throw new Error(`请求失败: ${response.status}`);
        const data = await response.json();
        resultDiv.innerHTML = `识别结果: ${JSON.stringify(data)}`;

    } catch (error) {
        resultDiv.innerHTML = `错误: ${error.message}`;
    }
}